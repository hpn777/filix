"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InsertQuery = InsertQuery;
function InsertQuery(dialect, opts = {}) {
    const sql = {};
    return {
        into(table) {
            sql.table = table;
            return this;
        },
        set(values) {
            sql.set = values;
            return this;
        },
        build() {
            const query = [];
            const cols = [];
            const vals = [];
            query.push('INSERT INTO');
            query.push(dialect.escapeId(sql.table));
            if (Object.prototype.hasOwnProperty.call(sql, 'set')) {
                for (const key in sql.set) {
                    if (!Object.prototype.hasOwnProperty.call(sql.set, key)) {
                        continue;
                    }
                    cols.push(dialect.escapeId(key));
                    vals.push(dialect.escapeVal(sql.set[key], opts?.timezone));
                }
                if (cols.length === 0) {
                    query.push(String(dialect.defaultValuesStmt || 'VALUES()'));
                }
                else {
                    query.push(`(${cols.join(', ')})`);
                    query.push(`VALUES (${vals.join(', ')})`);
                }
            }
            return query.join(' ');
        }
    };
}
//# sourceMappingURL=Insert.js.map