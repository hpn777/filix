"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DefaultTesseractStore = void 0;
class DefaultTesseractStore {
    mode = 'array';
    dataCache = [];
    objDef;
    constructor(columns) {
        this.objDef = this.generateObjDef(columns);
    }
    createRowInstance() {
        return new this.objDef();
    }
    isRowInstance(candidate) {
        return candidate instanceof this.objDef;
    }
    updateColumns(columns) {
        this.objDef = this.generateObjDef(columns);
    }
    prepareForReset() {
        this.dataCache = [];
    }
    clear() {
        this.dataCache = [];
    }
    generateObjDef(columns) {
        let classMeat = 'return class {';
        columns.forEach((column) => {
            classMeat += `"${column.name}"\n`;
        });
        classMeat += '"removed"\n}';
        // eslint-disable-next-line no-new-func
        return (new Function(classMeat))();
    }
}
exports.DefaultTesseractStore = DefaultTesseractStore;
//# sourceMappingURL=tesseractStore.js.map